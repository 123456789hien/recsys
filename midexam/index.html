<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Smart Fashion Recommender</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>Smart Fashion Recommender</h1>
    <p>Explore multiple recommender system techniques interactively in your browser.</p>

    <!-- STEP 1 -->
    <section>
      <h2>Step 1: Upload / Auto-Load Data</h2>
      <button id="upload-users-btn">Upload users_clean.csv</button>
      <button id="upload-items-btn">Upload items_clean.csv</button>
      <button id="upload-interactions-btn">Upload interactions_clean.csv (optional)</button>
      <button id="upload-embeddings-btn">Upload item_embeddings.json</button>
      <button id="auto-load-btn" class="primary-btn">Auto-load from GitHub</button>
      <div id="status-note" class="note"></div>
    </section>

    <hr />

    <!-- STEP 2 -->
    <section>
      <h2>Content-Based Item Recommender</h2>
      <p>Select an item you like, and we’ll find similar ones for you.</p>
      <label for="cb-item-select">Select Item:</label>
      <select id="cb-item-select"><option value="">-- Select Item --</option></select>
      <button id="cb-recommend-btn">Find Similar Items</button>
      <table id="cb-table">
        <thead>
          <tr><th>Rank</th><th>Item ID</th><th>Name</th><th>Similarity Score</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <hr />

    <!-- STEP 3 -->
    <section>
      <h2>Matrix Factorization Item Recommender</h2>
      <p>Train a collaborative filtering model in your browser using TensorFlow.js.</p>
      <label>Select User:</label>
      <select id="mf-user-select"><option value="">-- Select User --</option></select>
      <label>Select Item:</label>
      <select id="mf-item-select"><option value="">-- Select Item --</option></select>
      <button id="train-mf-btn">Train Model</button>
      <button id="predict-mf-btn">Predict Rating</button>
      <div id="mf-status" class="note"></div>
    </section>

    <hr />

    <!-- STEP 4 -->
    <section>
      <h2>Two-Tower Item Recommender</h2>
      <p>Train & visualize embeddings using Two-Tower MLP architecture.</p>
      <button id="load-data-btn">Load Data</button>
      <button id="train-twotower-btn">Train</button>
      <button id="test-twotower-btn">Test</button>

      <div id="tt-status" class="note"></div>
      <div id="tt-loss-chart-container">
        <canvas id="tt-loss-chart" width="600" height="300"></canvas>
      </div>
      <div id="embedding-plot" class="embed-box">[Embedding projection will appear here]</div>

      <h3>Test Results (Left: Historical — Middle: Basic — Right: Two-Tower)</h3>
      <div class="tt-tables">
        <table id="tt-historical">
          <thead><tr><th>Rank</th><th>Item ID</th><th>Name</th><th>Rating</th></tr></thead>
          <tbody></tbody>
        </table>
        <table id="tt-basic">
          <thead><tr><th>Rank</th><th>Item ID</th><th>Name</th><th>Score</th></tr></thead>
          <tbody></tbody>
        </table>
        <table id="tt-mlp">
          <thead><tr><th>Rank</th><th>Item ID</th><th>Name</th><th>Score</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <hr />

    <!-- STEP 5 -->
    <section>
      <h2>Step 5: Rating & Price Distribution of Items</h2>
      <canvas id="eda-chart" width="800" height="400"></canvas>
    </section>

    <hr />

    <!-- STEP 6 -->
    <section>
      <h2>Step 6: Connection with EDA (Optional)</h2>
      <p>This section analyzes the correlation between price and rating, and computes mean rating by category.</p>
      <div id="eda-summary" class="note"></div>
      <canvas id="eda-bar" width="800" height="400"></canvas>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
