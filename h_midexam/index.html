<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Fashion Recommender</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
</head>
<body>
<div class="container">
    <h1>Smart Fashion Recommender</h1>
    
    <!-- Step 0: Auto-Load or Upload -->
    <div class="step0">
        <button id="autoLoadBtn" class="btn">Auto-Load Data from GitHub</button>
        <button id="uploadDataBtn" class="btn">Upload Data Manually</button>
        <div id="load-status" class="note"></div>
    </div>

    <!-- Step 1: Upload CSV -->
    <div class="upload-section">
        <h2>Upload Clean CSV Files</h2>
        <label class="btn" for="uploadUsers">Upload users_clean.csv</label>
        <input type="file" id="uploadUsers" accept=".csv" hidden>
        <div id="noteUsers" class="note"></div>

        <label class="btn" for="uploadItems">Upload items_clean.csv</label>
        <input type="file" id="uploadItems" accept=".csv" hidden>
        <div id="noteItems" class="note"></div>

        <label class="btn" for="uploadInteractions">Upload interactions_clean.csv (optional)</label>
        <input type="file" id="uploadInteractions" accept=".csv" hidden>
        <div id="noteInteractions" class="note"></div>
    </div>

    <!-- Step 2: Filter Users by Location -->
    <div class="filter-section">
        <h2>Filter Users by Location</h2>
        <div id="location-buttons" class="button-group"></div>
        <div id="location-note" class="note"></div>

        <h3>Select User</h3>
        <select id="user-select"><option value="">-- Select User --</option></select>
        <div id="user-note" class="note"></div>
    </div>

    <!-- Step 3: Select Item & Purchase History -->
    <div class="history-section">
        <h2>Purchase History of Item</h2>
        <label for="item-select">Select Item:</label>
        <select id="item-select"><option value="">-- Select Item --</option></select>
        <div id="item-note" class="note"></div>

        <table id="history-table">
            <thead>
                <tr>
                    <th>User_ID</th>
                    <th>Rating</th>
                    <th>Price</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- Step 4: Upload Embeddings -->
    <div class="embedding-section">
        <h2>Upload Embeddings JSON</h2>
        <label class="btn" for="uploadEmbeddings">Upload item_embeddings.json</label>
        <input type="file" id="uploadEmbeddings" accept=".json" hidden>
        <div id="embedding-note" class="note"></div>
    </div>

    <!-- Step 5: Top-10 Recommendations -->
    <div class="recommendation-section">
        <h2>Top-10 Recommendations (Global)</h2>
        <button id="computeRecomBtn" class="btn">Compute Recommendations</button>
        <div id="recom-note" class="note"></div>

        <table id="recommendation-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>ID_Item</th>
                    <th>Name</th>
                    <th>Rating</th>
                    <th>Price</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- Step 6: EDA -->
    <div class="eda-section">
        <h2>Rating & Price Distribution of Items</h2>
        <canvas id="eda-chart" width="900" height="400"></canvas>
    </div>

    <!-- Step 7: Connection with EDA (Optional) -->
    <div class="eda-connection">
        <h2>Connection with EDA (Optional)</h2>
        <div id="eda-connection-note" class="note">Correlation and summary will appear here.</div>
    </div>

</div>

<script src="app.js"></script>
</body>
</html>
